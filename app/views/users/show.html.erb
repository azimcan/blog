<div class="w-full">
  <% @posts.each do |post| %>
    <div class="p-4 mb-8 rounded-lg bg-white min-w-full">

      <div class="flex justify-end">
        
        <%= render 'layouts/components/group_button', { value: heroicon("zoom-in"), href: post, class: "px-3 hover:px-6" } %>

        <% if signed_in? %>
          <%= render 'layouts/components/group_button', { value: heroicon("pencil-alt"), href: edit_post_path(post), class: "px-3 hover:px-6" } %>
          <%= button_to heroicon("trash"), post_path(post), class: "px-2 py-2 text-xs text-white font-bold hover:px-4 transition-all rounded-r-lg bg-gray-900 px-3 hover:px-6", method: :delete %>
        <% end %>

      </div>

      <div class="my-5">
        <div id="header" class="relative flex items-center">
          <h1 class="font-bold text-4xl">
            <%= post.title %>
          </h1>
          <!-- TODO -->
          <div class="absolute right-0">
            <span class="px-2 mr-2 text-xs rounded-2xl shadow-2xl text-white font-bold bg-gray-900">
              <%= post.user.nil? ? "nil" : post.user.username %>
            </span>


            <%= render 'layouts/components/badge', { value: post.status.capitalize, class: '', status: "#{post.status}" } %>
          </div>
        </div>
      </div>

      <div class="my-5">
        <%= post.body %>
      </div>

      <div class="my-5 py-2  text-gray-400 text-xs grid grid-cols-2 grid-rows-1">
        <div class="flex justify-start">
          <%= pluralize post.comments.count, "comment" %>
        </div>
        <div class="flex justify-end">
          <%= time_tag post.created_at, "data-local": "time-ago" %>
        </div>
      </div>
    </div>
  <% end %>
</div>
